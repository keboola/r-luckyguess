{
  "parameters": {
    "debug": true,
    "sourceTable": "non-existent-table",
    "backendType": "snowflake",
    "fileTags": [
    ],
    "scriptParameters": {
      "paramNumber": 42,
      "paramNested": {
        "columnName": "Test-COLUMN",
        "columnFoo": "4.2",
        "columnBar": "test-string"
      }
    },
    "script": [
        "LGModule <- setRefClass(",
        "    'LGModule',",
        "    contains = c('Application'),",
        "    fields = list(",
        "    ),",
        "    methods = list(",
        "       #' main module function ",
        "       #' @exportMethod",
        "       run = function(app) {",
        "           # access parameters and save simple values",
        "           app$saveValue('paramNumber', app$scriptParameters$paramNumber);",
        "           app$saveValue('columnName', app$scriptParameters$paramNested$columnName);",
        "           app$saveValue('columnFoo', app$scriptParameters$paramNested$columnFoo);",
        "           app$saveValue('columnBar', app$scriptParameters$paramNested$columnBar);",
        "",
        "           # save tables",
        "           app$saveValue('key2', 'foo', 1);",
        "           app$saveValue('key3', 'bar', 1);",
        "",
        "           result <- data.frame(",
        "               some_string = c('this', 'is', 'an', 'example'),",
        "               some_number = c(1, 2, 5, 42)",
        "           )",
        "           app$saveDataFrame(result, 'r_example_results', rowNumbers = TRUE)",
        "",
        "           fileName <- 'exampleGraph.png'",
        "           png(file.path(app$workingDir, fileName), width = 400, height = 400)",
        "           plot(result)",
        "           # write to file",
        "           dev.off()",
        "",
        "           app$saveFileName(fileName, c('ExampleModule'))",
        "           TRUE",
        "       },",
        "",
        "       #' Declare parameters required by the module",
        "       #' @exportMethod",
        "       getParameters = function() {",
        "         # list is in form 'parameterName' = 'dataType'",
        "         # - 'dataType can be one of 'character', 'integer', 'double', 'lg_column' ",
        "         # - nested parameters are defined with dot notation",
        "         # - item 'packages' is a character vector of packges required to be loaded",
        "         list(",
        "           'paramNumber' = 'integer',",
        "           'paramNested.columnName' = 'lg_column',",
        "           'paramNested.columnFoo' = 'numeric',",
        "           'paramNested.columnBar' = 'character',",
        "           'packages' = c()",
        "         )",
        "       }",
        "   )",
        ")"
    ]
  }
}